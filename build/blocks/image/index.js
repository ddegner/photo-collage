(()=>{"use strict";var e,o={965:()=>{const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.element,l=window.wp.data,a=window.wp.blockEditor,i=window.wp.components,n=window.wp.primitives,r=window.ReactJSXRuntime;var s=(0,r.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(n.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),c=(0,r.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(n.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})});const p=({values:e,onChange:t,centerLabel:l="M",isDashed:a=!0})=>(0,r.jsxs)("div",{className:"photo-collage-box-control",children:[(0,r.jsx)("div",{className:"photo-collage-box-row is-center",children:(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Top","photo-collage"),labelPosition:"top",value:e.top,onChange:e=>t("top",e),className:"photo-collage-unit-control-small"})}),(0,r.jsxs)("div",{className:"photo-collage-box-row is-space-between",children:[(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Left","photo-collage"),labelPosition:"top",value:e.left,onChange:e=>t("left",e),className:"photo-collage-unit-control-small"}),(0,r.jsx)("div",{className:"photo-collage-box-center "+(a?"is-dashed":"is-solid"),children:l}),(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Right","photo-collage"),labelPosition:"top",value:e.right,onChange:e=>t("right",e),className:"photo-collage-unit-control-small"})]}),(0,r.jsx)("div",{className:"photo-collage-box-row is-center",children:(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Bottom","photo-collage"),labelPosition:"top",value:e.bottom,onChange:e=>t("bottom",e),className:"photo-collage-unit-control-small"})})]}),h=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"photo-collage/image","version":"0.5.0","title":"Collage Image","category":"design","icon":"format-image","description":"An image block with advanced positioning controls.","supports":{"align":true,"html":false,"interactivity":true,"lightbox":{"allowEditing":true}},"textdomain":"photo-collage","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php","attributes":{"url":{"type":"string"},"alt":{"type":"string","default":""},"isDecorative":{"type":"boolean","default":false},"id":{"type":"number"},"marginTop":{"type":"string","default":"0%"},"marginRight":{"type":"string","default":"0%"},"marginBottom":{"type":"string","default":"0%"},"marginLeft":{"type":"string","default":"0%"},"zIndex":{"type":"number","default":1},"width":{"type":"string","default":"50%"},"height":{"type":"string","default":"auto"},"paddingTop":{"type":"string","default":"0%"},"paddingRight":{"type":"string","default":"0%"},"paddingBottom":{"type":"string","default":"0%"},"paddingLeft":{"type":"string","default":"0%"},"useAbsolutePosition":{"type":"boolean","default":false},"top":{"type":"string","default":"auto"},"right":{"type":"string","default":"auto"},"bottom":{"type":"string","default":"auto"},"left":{"type":"string","default":"auto"},"objectFit":{"type":"string","default":"contain"},"rotation":{"type":"number","default":0},"opacity":{"type":"number","default":1},"showCaption":{"type":"boolean","default":true},"caption":{"type":"string","default":""},"title":{"type":"string","default":""},"description":{"type":"string","default":""},"href":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"},"linkClass":{"type":"string"},"linkDestination":{"type":"string","default":"none"}}}'),g={from:[{type:"block",blocks:["core/image"],transform:o=>(0,e.createBlock)("photo-collage/image",{url:o.url,alt:o.alt,id:o.id,title:o.title,caption:o.caption,href:o.href,linkTarget:o.linkTarget,rel:o.rel,linkClass:o.linkClass,width:"50%",height:"auto"})}],to:[{type:"block",blocks:["core/image"],transform:o=>(0,e.createBlock)("core/image",{url:o.url,alt:o.alt,id:o.id,title:o.title,caption:o.caption,href:o.href,linkTarget:o.linkTarget,rel:o.rel,linkClass:o.linkClass})}]};(0,e.registerBlockType)(h,{edit:function({attributes:e,setAttributes:n,isSelected:h}){const{url:g,alt:d,id:u,isDecorative:m,useAbsolutePosition:_,top:x,right:b,bottom:v,left:f,marginTop:k,marginRight:C,marginBottom:w,marginLeft:j,paddingTop:y,paddingRight:T,paddingBottom:B,paddingLeft:N,zIndex:R,width:P,height:L,objectFit:D="contain",rotation:O=0,opacity:S=1,caption:I="",title:U="",description:M="",align:A,href:E,linkTarget:H,rel:V,linkClass:z,linkDestination:F="none",showCaption:Z=!0,lightbox:$={enabled:!1}}=e,[W,G]=(0,t.useState)(!1),J=e=>{e&&e.url&&n({url:e.url,alt:e.alt||"",id:e.id,title:e.title||"",caption:e.caption||"",description:e.description||"",linkDestination:"none",href:void 0,lightbox:{enabled:!1}})},q=(0,l.useSelect)(e=>u?e("core").getMedia(u):null,[u]);(0,t.useEffect)(()=>{!g&&q&&q.source_url&&n({url:q.source_url,alt:q.alt_text||d,title:q.title?.rendered||U,caption:q.caption?.rendered||I})},[q,g]);const X=(0,a.useBlockProps)({style:{..._?{position:"absolute",top:x&&"auto"!==x?x:void 0,right:b&&"auto"!==b?b:void 0,bottom:v&&"auto"!==v?v:void 0,left:f&&"auto"!==f?f:void 0}:{position:"relative",marginTop:A&&"0%"===k?void 0:k,marginRight:A&&"0%"===C?void 0:C,marginBottom:A&&"0%"===w?void 0:w,marginLeft:A&&"0%"===j?void 0:j},paddingTop:y,paddingRight:T,paddingBottom:B,paddingLeft:N,width:A&&"50%"===P?void 0:P,height:L,zIndex:R,transform:`rotate(${O}deg)`,opacity:S}});return g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.BlockControls,{children:[(0,r.jsx)(i.ToolbarDropdownMenu,{icon:s,label:(0,o.__)("Link","photo-collage"),controls:[{title:(0,o.__)("Link to image file","photo-collage"),icon:"media"===F?"yes":void 0,onClick:()=>{q&&q.source_url&&n({href:q.source_url,linkDestination:"media",linkTarget:void 0,rel:void 0,linkClass:void 0,lightbox:{enabled:!1}})},isDisabled:!q||!q.source_url},{title:(0,o.__)("Link to attachment page","photo-collage"),icon:"attachment"===F?"yes":void 0,onClick:()=>{q&&q.link&&n({href:q.link,linkDestination:"attachment",linkTarget:void 0,rel:void 0,linkClass:void 0,lightbox:{enabled:!1}})},isDisabled:!q||!q.link},{title:(0,o.__)("Enlarge on click","photo-collage"),icon:"none"===F&&$?.enabled?"yes":void 0,onClick:()=>{n({href:void 0,linkDestination:"none",linkTarget:void 0,rel:void 0,linkClass:void 0,lightbox:{enabled:!0}})}},{title:(0,o.__)("Custom URL","photo-collage"),icon:"custom"===F?"yes":void 0,onClick:()=>G(!0)}]}),W&&(0,r.jsx)(i.Popover,{position:"bottom center",onClose:()=>G(!1),children:(0,r.jsx)(a.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:E,opensInNewTab:"_blank"===H},onChange:({url:e,opensInNewTab:o})=>{n({href:e,linkTarget:o?"_blank":void 0,rel:o?"noreferrer noopener":void 0,lightbox:{enabled:!1}}),G(!1),n({linkDestination:"custom"})},onRemove:()=>{n({href:void 0,linkTarget:void 0,rel:void 0,linkClass:void 0,linkDestination:"none",lightbox:{enabled:!1}})},forceIsEditingLink:W})}),(0,r.jsx)(i.ToolbarButton,{icon:c,label:Z?(0,o.__)("Hide caption","photo-collage"):(0,o.__)("Show caption","photo-collage"),isActive:Z,onClick:()=>n({showCaption:!Z})})]}),(0,r.jsx)(a.BlockControls,{children:(0,r.jsx)(a.MediaReplaceFlow,{mediaId:u,mediaURL:g,allowedTypes:["image"],accept:"image/*",onSelect:J})}),(0,r.jsxs)(a.InspectorControls,{children:[(0,r.jsxs)(i.PanelBody,{title:(0,o.__)("Dimensions","photo-collage"),initialOpen:!0,children:[(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Width","photo-collage"),value:P,onChange:e=>n({width:e})}),(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Height","photo-collage"),value:L,onChange:e=>n({height:e})})]}),(0,r.jsxs)(i.PanelBody,{title:(0,o.__)("Positioning","photo-collage"),initialOpen:!1,children:[(0,r.jsx)(i.ToggleControl,{label:(0,o.__)("Use Absolute Positioning","photo-collage"),help:(0,o.__)("Position image relative to container edges instead of using margins.","photo-collage"),checked:_,onChange:e=>n({useAbsolutePosition:e})}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"photo-collage-help-text",children:(0,o.__)("Click an anchor point to pin the image to that corner.","photo-collage")}),(0,r.jsx)("div",{className:"photo-collage-anchor-control",children:(0,r.jsxs)("div",{className:"photo-collage-anchor-grid",children:[(0,r.jsx)(i.Button,{className:"photo-collage-anchor-btn "+("auto"!==x&&"auto"!==f?"is-active":""),onClick:()=>n({top:"0%",left:"0%",bottom:"auto",right:"auto"}),icon:"arrow-left-alt2",style:{transform:"rotate(45deg)"},label:(0,o.__)("Top Left","photo-collage")}),(0,r.jsx)(i.Button,{className:"photo-collage-anchor-btn "+("auto"!==x&&"auto"!==b?"is-active":""),onClick:()=>n({top:"0%",right:"0%",bottom:"auto",left:"auto"}),icon:"arrow-up-alt2",style:{transform:"rotate(45deg)"},label:(0,o.__)("Top Right","photo-collage")}),(0,r.jsx)(i.Button,{className:"photo-collage-anchor-btn "+("auto"!==v&&"auto"!==f?"is-active":""),onClick:()=>n({bottom:"0%",left:"0%",top:"auto",right:"auto"}),icon:"arrow-down-alt2",style:{transform:"rotate(45deg)"},label:(0,o.__)("Bottom Left","photo-collage")}),(0,r.jsx)(i.Button,{className:"photo-collage-anchor-btn "+("auto"!==v&&"auto"!==b?"is-active":""),onClick:()=>n({bottom:"0%",right:"0%",top:"auto",left:"auto"}),icon:"arrow-right-alt2",style:{transform:"rotate(45deg)"},label:(0,o.__)("Bottom Right","photo-collage")})]})}),(0,r.jsxs)("div",{className:"photo-collage-position-controls",children:[(0,r.jsx)("div",{className:"photo-collage-position-row is-center",children:(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Top","photo-collage"),value:x,onChange:e=>{const o=e||"auto";n({top:o,bottom:"auto"!==o?"auto":v})}})}),(0,r.jsxs)("div",{className:"photo-collage-position-row is-space-between",children:[(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Left","photo-collage"),value:f,onChange:e=>{const o=e||"auto";n({left:o,right:"auto"!==o?"auto":b})}}),(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Right","photo-collage"),value:b,onChange:e=>{const o=e||"auto";n({right:o,left:"auto"!==o?"auto":f})}})]}),(0,r.jsx)("div",{className:"photo-collage-position-row is-center",children:(0,r.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Bottom","photo-collage"),value:v,onChange:e=>{const o=e||"auto";n({bottom:o,top:"auto"!==o?"auto":x})}})})]})]}),!_&&(0,r.jsx)(p,{values:{top:k,right:C,bottom:w,left:j},onChange:(e,o)=>{const t=`margin${e.charAt(0).toUpperCase()+e.slice(1)}`;n({[t]:o})},centerLabel:"M",isDashed:!0}),(0,r.jsxs)("div",{className:"photo-collage-z-index-control",children:[(0,r.jsx)(i.RangeControl,{label:(0,o.__)("Z-Index (Layer Order)","photo-collage"),value:R,onChange:e=>n({zIndex:e}),min:-10,max:100,help:(0,o.__)("Higher numbers are on top.","photo-collage")}),(0,r.jsxs)("div",{className:"photo-collage-z-index-buttons",children:[(0,r.jsx)(i.Button,{variant:"secondary",isSmall:!0,onClick:()=>n({zIndex:R-1}),icon:"minus",label:(0,o.__)("Move Backward","photo-collage")}),(0,r.jsx)(i.Button,{variant:"secondary",isSmall:!0,onClick:()=>n({zIndex:R+1}),icon:"plus",label:(0,o.__)("Move Forward","photo-collage")})]})]})]}),(0,r.jsx)(i.PanelBody,{title:(0,o.__)("Padding","photo-collage"),initialOpen:!1,children:(0,r.jsx)(p,{values:{top:y,right:T,bottom:B,left:N},onChange:(e,o)=>{const t=`padding${e.charAt(0).toUpperCase()+e.slice(1)}`;n({[t]:o})},centerLabel:"P",isDashed:!1})}),(0,r.jsxs)(i.PanelBody,{title:(0,o.__)("Effects","photo-collage"),initialOpen:!1,children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,r.jsx)("span",{style:{fontSize:"11px",fontWeight:"500",textTransform:"uppercase",color:"#1e1e1e"},children:(0,o.__)("Rotation","photo-collage")}),0!==O&&(0,r.jsx)(i.Button,{isSmall:!0,variant:"tertiary",onClick:()=>n({rotation:0}),children:(0,o.__)("Reset","photo-collage")})]}),(0,r.jsx)(i.RangeControl,{value:O,onChange:e=>n({rotation:e}),min:-180,max:180,help:0!==O?`${O}°`:(0,o.__)("No rotation applied","photo-collage")}),(0,r.jsx)(i.RangeControl,{label:(0,o.__)("Opacity","photo-collage"),value:S,onChange:e=>n({opacity:e}),min:0,max:1,step:.01,help:`${Math.round(100*S)}%`})]}),(0,r.jsxs)(i.PanelBody,{title:(0,o.__)("Accessibility","photo-collage"),initialOpen:!1,children:[(0,r.jsx)(i.ToggleControl,{label:(0,o.__)("Mark as decorative","photo-collage"),help:m?(0,o.__)("This image will be hidden from screen readers.","photo-collage"):(0,o.__)("This image requires alt text for screen readers.","photo-collage"),checked:m,onChange:()=>{n({isDecorative:!m,alt:m?d:""})}}),!m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.TextControl,{label:(0,o.__)("Alt Text","photo-collage"),value:d,onChange:e=>{n({alt:e})},help:(0,o.__)("Describe what the image shows and its purpose in the collage.","photo-collage"),placeholder:(0,o.__)("Enter image description...","photo-collage")}),(0,r.jsx)(i.TextControl,{label:(0,o.__)("Title","photo-collage"),value:U,onChange:e=>n({title:e}),help:(0,o.__)("Optional. Appears as a tooltip when hovering over the image.","photo-collage"),placeholder:(0,o.__)("Enter image title...","photo-collage")}),(0,r.jsx)(i.TextControl,{label:(0,o.__)("Description","photo-collage"),value:M,onChange:e=>n({description:e}),help:(0,o.__)("Optional. Extended description for additional context.","photo-collage"),placeholder:(0,o.__)("Enter extended description...","photo-collage")})]})]})]}),(0,r.jsxs)("div",{...X,children:[(0,r.jsx)("img",{src:g,alt:d,style:{objectFit:"contain",width:"100%",height:"100%"}}),Z&&(!a.RichText.isEmpty(I)||h)&&(0,r.jsx)(a.RichText,{tagName:"figcaption",className:"photo-collage-image-caption wp-element-caption",placeholder:(0,o.__)("Write caption…","photo-collage"),value:I,onChange:e=>n({caption:e}),inlineToolbar:!0,allowedFormats:["core/bold","core/italic","core/link","core/strikethrough","core/text-color","core/subscript","core/superscript"]})]})]}):(0,r.jsx)("div",{...X,children:(0,r.jsx)(a.MediaPlaceholder,{icon:"format-image",onSelect:J,accept:"image/*",allowedTypes:["image"],multiple:!1,labels:{title:(0,o.__)("Collage Image","photo-collage")}})})},save:function(){return null},transforms:g})}},t={};function l(e){var a=t[e];if(void 0!==a)return a.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,l),i.exports}l.m=o,e=[],l.O=(o,t,a,i)=>{if(!t){var n=1/0;for(p=0;p<e.length;p++){for(var[t,a,i]=e[p],r=!0,s=0;s<t.length;s++)(!1&i||n>=i)&&Object.keys(l.O).every(e=>l.O[e](t[s]))?t.splice(s--,1):(r=!1,i<n&&(n=i));if(r){e.splice(p--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[t,a,i]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={602:0,782:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var a,i,[n,r,s]=t,c=0;if(n.some(o=>0!==e[o])){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(s)var p=s(l)}for(o&&o(t);c<n.length;c++)i=n[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(p)},t=globalThis.webpackChunkphoto_collage=globalThis.webpackChunkphoto_collage||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var a=l.O(void 0,[782],()=>l(965));a=l.O(a)})();